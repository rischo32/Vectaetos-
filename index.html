<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Vectaetos — Epistemic Field</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
html, body {
  margin: 0;
  padding: 0;
  width: 100%;
  height: 100%;
  background: #000;
  overflow: hidden;
  font-family: system-ui, sans-serif;
}
canvas {
  display: block;
}
#ask {
  position: fixed;
  bottom: 24px;
  left: 50%;
  transform: translateX(-50%);
  width: 80%;
  max-width: 420px;
  padding: 10px 12px;
  background: rgba(255,255,255,0.08);
  color: #eee;
  border: none;
  outline: none;
  border-radius: 6px;
}
#note {
  position: fixed;
  bottom: 6px;
  left: 50%;
  transform: translateX(-50%);
  font-size: 11px;
  color: #aaa;
  opacity: 0.6;
}
</style>
</head>
<body>

<input id="ask" placeholder="Ask into the field…" />
<div id="note">The field is still becoming. And so are you.</div>

<script src="https://unpkg.com/three@0.160.0/build/three.min.js"></script>
<script>
/* BASIC SETUP */
const scene = new THREE.Scene();
scene.background = new THREE.Color(0x000000);

const camera = new THREE.PerspectiveCamera(
  55,
  window.innerWidth / window.innerHeight,
  0.1,
  1000
);
camera.position.z = 14;

const renderer = new THREE.WebGLRenderer({ antialias: true });
renderer.setSize(window.innerWidth, window.innerHeight);
renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
document.body.appendChild(renderer.domElement);

/* LIGHTS */
scene.add(new THREE.AmbientLight(0xffffff, 0.35));

const keyLight = new THREE.PointLight(0xffffff, 1.2, 50);
keyLight.position.set(10, 10, 10);
scene.add(keyLight);

/* AXIOMATIC NODES */
const axioms = [
  { name: "INT", color: 0xff5555, pos: [6, 0, 0] },
  { name: "LEX", color: 0xffaa00, pos: [3, 5, 1] },
  { name: "VER", color: 0x33ccff, pos: [-3, 5, -1] },
  { name: "LIB", color: 0x66ff66, pos: [-6, 1, 2] },
  { name: "UNI", color: 0xaa66ff, pos: [-4, -4, -2] },
  { name: "REL", color: 0xff4444, pos: [0, -6, 1] },
  { name: "WIS", color: 0xff44aa, pos: [4, -4, 1] },
  { name: "CRE", color: 0xff8800, pos: [0, 0, 6] }
];

const nodes = [];
const nodeGeom = new THREE.SphereGeometry(0.5, 24, 24);

axioms.forEach(a => {
  const mat = new THREE.MeshStandardMaterial({
    color: a.color,
    emissive: a.color,
    emissiveIntensity: 0.25,
    roughness: 0.4
  });
  const mesh = new THREE.Mesh(nodeGeom, mat);
  mesh.position.set(...a.pos);
  scene.add(mesh);
  nodes.push(mesh);
});

/* CONNECTION LINES */
for (let i = 0; i < nodes.length; i++) {
  for (let j = i + 1; j < nodes.length; j++) {
    const geo = new THREE.BufferGeometry().setFromPoints([
      nodes[i].position,
      nodes[j].position
    ]);
    const line = new THREE.Line(
      geo,
      new THREE.LineBasicMaterial({
        color: 0x222222,
        transparent: true,
        opacity: 0.25
      })
    );
    scene.add(line);
  }
}

/* INTERACTION */
let impulse = 0;
document.getElementById("ask").addEventListener("keydown", e => {
  if (e.key === "Enter") {
    impulse = 1;
    e.target.value = "";
  }
});

/* ANIMATION */
let t = 0;
function animate() {
  t += 0.01;

  nodes.forEach((n, i) => {
    n.position.y += Math.sin(t + i) * 0.002;
    n.material.emissiveIntensity = 0.2 + impulse * 0.3;
  });

  if (impulse > 0) impulse -= 0.02;

  camera.position.x = Math.sin(t * 0.3) * 10;
  camera.position.y = Math.cos(t * 0.2) * 6;
  camera.lookAt(0, 0, 0);

  renderer.render(scene, camera);
  requestAnimationFrame(animate);
}
animate();

/* RESIZE */
window.addEventListener("resize", () => {
  camera.aspect = window.innerWidth / window.innerHeight;
  camera.updateProjectionMatrix();
  renderer.setSize(window.innerWidth, window.innerHeight);
});
</script>

</body>
</html>
