<!DOCTYPE html>
<html lang="sk">
<head>
<meta charset="UTF-8">
<title>Φ</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{
  margin:0;
  background:#000;
  overflow:hidden;
  font-family:system-ui;
}
.top{
  position:absolute;
  top:30px;
  width:100%;
  text-align:center;
  font-size:34px;
  color:white;
  letter-spacing:4px;
}
.bottom{
  position:absolute;
  bottom:30px;
  width:100%;
  text-align:center;
  color:#666;
  font-size:14px;
}
.bottom a{
  color:#888;
  text-decoration:none;
  margin:0 10px;
}
canvas{ display:block; }
</style>
</head>
<body>

<div class="top">Φ</div>
<canvas id="gl"></canvas>
<div class="bottom">
<a href="https://github.com/rischo32/Vectaetos" target="_blank">Repository</a> |
<a href="https://zenodo.org/records/18395048" target="_blank">DOI</a>
</div>

<script>
const canvas = document.getElementById("gl");
const gl = canvas.getContext("webgl2");

function resize(){
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
  gl.viewport(0,0,canvas.width,canvas.height);
}
resize();
window.addEventListener("resize", resize);

const vertex = `#version 300 es
in vec4 position;
void main(){
  gl_Position = position;
}
`;

const fragment = `#version 300 es
precision highp float;
out vec4 outColor;
uniform float time;
uniform vec2 resolution;

float field(vec2 uv){
  float r = length(uv);
  float a = atan(uv.y, uv.x);
  float wave = sin(r*8.0 - time*0.6);
  float swirl = sin(a*6.0 + time*0.4);
  return wave * swirl;
}

void main(){
  vec2 uv = (gl_FragCoord.xy / resolution.xy) * 2.0 - 1.0;
  uv.x *= resolution.x / resolution.y;

  float f = field(uv);
  float glow = exp(-length(uv)*2.0);

  vec3 col = vec3(0.0,0.8,0.9) * f * glow;
  col += vec3(0.0,0.2,0.3) * glow;

  outColor = vec4(col,1.0);
}
`;

function compile(type, source){
  const s = gl.createShader(type);
  gl.shaderSource(s, source);
  gl.compileShader(s);
  return s;
}

const program = gl.createProgram();
gl.attachShader(program, compile(gl.VERTEX_SHADER, vertex));
gl.attachShader(program, compile(gl.FRAGMENT_SHADER, fragment));
gl.linkProgram(program);
gl.useProgram(program);

const positionBuffer = gl.createBuffer();
gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);
gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([
  -1,-1,  1,-1,  -1,1,
  -1,1,   1,-1,   1,1
]), gl.STATIC_DRAW);

const posLoc = gl.getAttribLocation(program, "position");
gl.enableVertexAttribArray(posLoc);
gl.vertexAttribPointer(posLoc, 2, gl.FLOAT, false, 0, 0);

const timeLoc = gl.getUniformLocation(program, "time");
const resLoc = gl.getUniformLocation(program, "resolution");

let t = 0;
function render(){
  gl.uniform1f(timeLoc, t);
  gl.uniform2f(resLoc, canvas.width, canvas.height);
  gl.drawArrays(gl.TRIANGLES, 0, 6);
  t += 0.01;
  requestAnimationFrame(render);
}
render();
</script>

</body>
</html>
